(this.webpackJsonpproyectomintic2022=this.webpackJsonpproyectomintic2022||[]).push([[0],{182:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(42),r=n.n(i),l=(n(182),n(16)),o=n(22),s=n.n(o),d=n(138),j=n(139),u=n(140),b=n.p+"static/media/mega.b5a268cb.png",h=n(152),O=n(71),x=n(47),m=n(68),p=Object(m.b)({name:"auth",initialState:{value:!1},reducers:{login:function(e,t){e.value=t.payload},logout:function(e){e.value=!1}}}),f=p.actions,g=f.login,v=(f.logout,p.reducer),k=n(0),C=function(){Object(l.b)();var e=Object(l.c)((function(e){return e.server.value}));return Object(k.jsx)(d.a,{children:Object(k.jsx)(j.a,{className:"d-flex justify-content-center align-items-center",children:Object(k.jsxs)(u.a,{xs:6,children:[Object(k.jsx)(O.a,{children:Object(k.jsx)(O.a.Image,{width:513,height:540,alt:"171x180",src:b})}),Object(k.jsx)("h1",{className:"text-center mt-5 mb-5",children:"LA MEGA-TIENDA"}),Object(k.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(k.jsxs)(x.b,{to:"/src/gestionProducto/pages/CrearProducto.js",children:[Object(k.jsx)(h.a,{variant:"primary",size:"sm",onClick:function(){!function(e){s()({method:"GET",url:"".concat(e,"/auth/google/url")}).then((function(e){window.location.href=e.data}))}(e)},children:"INGRESAR"})," "]})})]})})})},S=(n(207),n(12)),y=n(276),P=n(99),w=n(277),z=n(260),A=n(279),I=n(275),N=n(4),E=n(280),T=n(271),D=n(256),V=n(267),U=n(254),B=n(255),R=n(72),G=n.n(R),L=[{url:"/",title:"Home",icon:Object(k.jsx)(G.a,{}),type:"button"},{url:"/sales",title:"Ventas",icon:Object(k.jsx)(G.a,{}),type:"button"},{url:"/products",title:"Productos",icon:Object(k.jsx)(G.a,{}),type:"button"},{url:"/people",title:"Personas",icon:Object(k.jsx)(G.a,{}),type:"button"}],W=function(){return Object(k.jsxs)(T.a,{variant:"permanent",sx:Object(N.a)({width:240,flexShrink:0},"& .MuiDrawer-paper",{width:240,boxSizing:"border-box"}),children:[Object(k.jsx)(A.a,{}),Object(k.jsxs)(y.a,{sx:{overflow:"auto"},children:[Object(k.jsx)(E.a,{children:L.map((function(e,t){return Object(k.jsx)(x.b,{to:e.url,children:Object(k.jsxs)(V.a,{button:!0,children:[Object(k.jsx)(U.a,{children:Object(k.jsx)(G.a,{})}),Object(k.jsx)(B.a,{primary:e.title})]},e)})}))}),Object(k.jsx)(D.a,{})]})]})},F=n(20),M=n(5),q=n(278),_=n(11),J=n(211),H=n(290),K=n(291),Q=n(287),X=n(289),Y=n(285),Z=n(265),$=n(286),ee=n(274),te=n(268),ne=n(288),ae=n(261),ce=n(293),ie=n(294),re=n(93),le=n.n(re),oe=n(258),se=n(281),de=n(45),je=n.n(de),ue=n(50),be=n.n(ue),he=n(264),Oe=n(269),xe=n(272),me=n(250),pe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,m:2,width:1e3,height:500};function fe(e){var t=c.a.useState(!1),n=Object(_.a)(t,2),i=n[0],r=n[1],o=c.a.useState(e.edit?e.edit:{}),d=Object(_.a)(o,2),j=d[0],u=d[1],b=function(){return r(!0)},h=Object(l.c)((function(e){return e.server.value})),O=Object(l.c)((function(e){return e.auth.value})),x=Object(a.useState)(!1),m=Object(_.a)(x,2);m[0],m[1];return Object(k.jsxs)("div",{children:[e.edit?Object(k.jsx)(ae.a,{title:"Delete",children:Object(k.jsx)(se.a,{className:"btn-add-sale",onClick:b,variant:"contained",children:Object(k.jsx)(be.a,{})})}):Object(k.jsx)(se.a,{className:"btn-add-sale",onClick:b,variant:"contained",children:Object(k.jsx)(je.a,{fontSize:"large"})}),Object(k.jsx)(he.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:i,onClose:function(){return r(!1)},closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500},children:Object(k.jsx)(me.a,{in:i,children:Object(k.jsxs)(y.a,{sx:pe,children:[Object(k.jsx)(P.a,{id:"transition-modal-title",variant:"h6",component:"h2",children:"Agregar Nueva Venta"}),Object(k.jsxs)(y.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:[Object(k.jsx)(Oe.a,{id:"outlined",label:"Nombre",size:"small",defaultValue:j.nomcli,sx:{m:2},onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{name:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"Cedula",size:"small",sx:{m:2},defaultValue:j.cedula,onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{personalId:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"ID Articulo",size:"small",defaultValue:j.idarticulo,sx:{m:2},onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{productId:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"Cantidad",size:"small",sx:{m:2},defaultValue:j.cantidad,onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{quantity:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"ID Factura",size:"small",sx:{m:2},defaultValue:j.idfactura,onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{invoiceId:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"Valor",size:"small",sx:{m:2},defaultValue:j.valor,onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{value:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"IVA",size:"small",sx:{m:2},defaultValue:j.iva,onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{tax:e.target.value}))}}),Object(k.jsxs)(se.a,{sx:{WebkitAlignItems:"center"},className:"btn-add-sale",onClick:function(){return e.edit?function(e,t,n,a,c){s()({method:"PUT",headers:{Authorization:"".concat(c)},url:"".concat(t,"/sales/edit"),data:n}).then((function(t){e(!1),a()}))}(r,h,j,e.handleUpdate,O.token):function(e,t,n,a,c){s()({method:"POST",url:"".concat(t,"/sales/new"),headers:{Authorization:"".concat(c)},data:n}).then((function(t){e(!1),a()}))}(r,h,j,e.handleUpdate,O.token)},variant:"contained",children:[Object(k.jsx)(je.a,{fontSize:"medium"}),"Confirmar"]})]})]})})})]})}function ge(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function ve(e,t){return"desc"===e?function(e,n){return ge(e,n,t)}:function(e,n){return-ge(e,n,t)}}function ke(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Ce=[{id:"nomcli",numeric:!1,disablePadding:!0,label:"Nombre Cliente"},{id:"cedula",numeric:!0,disablePadding:!1,label:"Cedula"},{id:"idarticulo",numeric:!0,disablePadding:!1,label:"ID Articulo"},{id:"cantidad",numeric:!0,disablePadding:!1,label:"Cantidad"},{id:"idfactura",numeric:!0,disablePadding:!1,label:"ID Factura"},{id:"valor",numeric:!0,disablePadding:!1,label:"Valor"},{id:"iva",numeric:!0,disablePadding:!1,label:"IVA"}],Se=function(e,t,n){s()({method:"GET",url:"".concat(t,"/sales"),headers:{Authorization:"".concat(n)}}).then((function(t){var n=[];t.data.forEach((function(e){var t,a,c,i,r,l,o,s;n.push((t=e.name,a=e.personalId,c=e.productId,i=e.quantity,r=e.invoiceId,l=e.value,o=e.tax,s=e._id,{nomcli:t,cedula:a,idarticulo:c,cantidad:i,idfactura:r,valor:l,iva:o,id:s}))})),e(n)})).catch((function(e){return console.log(e)}))};function ye(e){var t=e.onSelectAllClick,n=e.order,a=e.orderBy,c=e.numSelected,i=e.rowCount,r=e.onRequestSort;return Object(k.jsx)(Y.a,{children:Object(k.jsxs)($.a,{children:[Object(k.jsx)(Q.a,{padding:"checkbox",children:Object(k.jsx)(te.a,{color:"primary",indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:t,inputProps:{"aria-label":"select all desserts"}})}),Ce.map((function(e){return Object(k.jsx)(Q.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&n,children:Object(k.jsxs)(ee.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(t=e.id,function(e){r(e,t)}),children:[e.label,a===e.id?Object(k.jsx)(y.a,{component:"span",sx:oe.a,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}var Pe=function(e){var t=e.numSelected,n=e.handleUpdate,a=Object(l.c)((function(e){return e.server.value})),c=Object(l.c)((function(e){return e.auth.value}));return Object(k.jsxs)(A.a,{sx:Object(S.a)({pl:{sm:2},pr:{xs:1,sm:1}},t.length>0&&{bgcolor:function(e){return Object(J.a)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[t.length>0?Object(k.jsxs)(P.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[t.length," selected"]}):Object(k.jsx)(P.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Registro de Ventas"}),t.length>0?Object(k.jsx)(ae.a,{title:"Delete",children:Object(k.jsx)(ne.a,{onClick:function(){return function(e,t,n,a){t.forEach((function(t){s()({method:"DELETE",url:"".concat(e,"/sales/delete"),headers:{Authorization:"".concat(a)},data:t}).then((function(e){n()}))}))}(a,t,n,c.token)},children:Object(k.jsx)(le.a,{})})}):Object(k.jsx)(fe,{handleUpdate:n})]})};function we(){var e=Object(l.c)((function(e){return e.server.value})),t=Object(l.c)((function(e){return e.auth.value})),n=Object(a.useState)([]),i=Object(_.a)(n,2),r=i[0],o=i[1];Object(a.useEffect)((function(){Se(o,e,t.token)}),[]);var s=c.a.useState("asc"),d=Object(_.a)(s,2),j=d[0],u=d[1],b=c.a.useState("cedula"),h=Object(_.a)(b,2),O=h[0],x=h[1],m=c.a.useState([]),p=Object(_.a)(m,2),f=p[0],g=p[1],v=c.a.useState(0),C=Object(_.a)(v,2),S=C[0],P=C[1],w=c.a.useState(!1),z=Object(_.a)(w,2),A=z[0],I=z[1],N=c.a.useState(5),E=Object(_.a)(N,2),T=E[0],D=E[1],V=function(n){Se(o,e,t.token)},U=S>0?Math.max(0,(1+S)*T-r.length):0;return Object(k.jsxs)(y.a,{sx:{width:1e3},children:[Object(k.jsxs)(q.a,{sx:{width:"100%",mb:2},children:[Object(k.jsx)(Pe,{numSelected:f,handleUpdate:V}),Object(k.jsx)(X.a,{children:Object(k.jsxs)(H.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:A?"small":"medium",children:[Object(k.jsx)(ye,{numSelected:f.length,order:j,orderBy:O,onSelectAllClick:function(e){if(e.target.checked){var t=r.map((function(e){return e.nomcli}));g(t)}else g([])},onRequestSort:function(e,t){u(O===t&&"asc"===j?"desc":"asc"),x(t)},rowCount:r.length}),Object(k.jsxs)(K.a,{children:[ke(r,ve(j,O)).slice(S*T,S*T+T).map((function(e,t){var n,a=(n=e,-1!==f.indexOf(n)),c="enhanced-table-checkbox-".concat(t);return Object(k.jsxs)($.a,{hover:!0,onClick:function(t){return function(e,t){var n=f.indexOf(t),a=[];-1===n?a=a.concat(f,t):0===n?a=a.concat(f.slice(1)):n===f.length-1?a=a.concat(f.slice(0,-1)):n>0&&(a=a.concat(f.slice(0,n),f.slice(n+1))),g(a)}(0,e)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(k.jsx)(Q.a,{padding:"checkbox",children:Object(k.jsx)(te.a,{color:"primary",checked:a,inputProps:{"aria-labelledby":c}})}),Object(k.jsx)(Q.a,{component:"th",id:c,scope:"row",padding:"none",children:e.nomcli}),Object(k.jsx)(Q.a,{align:"right",children:e.cedula}),Object(k.jsx)(Q.a,{align:"right",children:e.idarticulo}),Object(k.jsx)(Q.a,{align:"right",children:e.cantidad}),Object(k.jsx)(Q.a,{align:"right",children:e.idfactura}),Object(k.jsx)(Q.a,{align:"right",children:e.valor}),Object(k.jsx)(Q.a,{align:"right",children:e.iva}),Object(k.jsx)(Q.a,{align:"right",children:Object(k.jsx)(fe,{edit:e,handleUpdate:V})})]},e.nomcli)})),U>0&&Object(k.jsx)($.a,{style:{height:(A?33:53)*U},children:Object(k.jsx)(Q.a,{colSpan:8})})]})]})}),Object(k.jsx)(Z.a,{rowsPerPageOptions:[5,10,25],component:"div",count:r.length,rowsPerPage:T,page:S,onPageChange:function(e,t){P(t)},onRowsPerPageChange:function(e){D(parseInt(e.target.value,10)),P(0)}})]}),Object(k.jsx)(ce.a,{control:Object(k.jsx)(ie.a,{checked:A,onChange:function(e){I(e.target.checked)}}),label:"Dense padding"})]})}var ze={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,m:2,width:1e3,height:500};function Ae(e){var t=c.a.useState(!1),n=Object(_.a)(t,2),i=n[0],r=n[1],o=c.a.useState(e.edit?e.edit:{}),d=Object(_.a)(o,2),j=d[0],u=d[1],b=function(){return r(!0)},h=Object(l.c)((function(e){return e.server.value})),O=Object(l.c)((function(e){return e.auth.value})),x=Object(a.useState)(!1),m=Object(_.a)(x,2);m[0],m[1];return Object(k.jsxs)("div",{children:[e.edit?Object(k.jsx)(ae.a,{title:"Delete",children:Object(k.jsx)(se.a,{className:"btn-add-user",onClick:b,variant:"contained",children:Object(k.jsx)(be.a,{})})}):Object(k.jsx)(se.a,{className:"btn-add-user",onClick:b,variant:"contained",children:Object(k.jsx)(je.a,{fontSize:"large"})}),Object(k.jsx)(he.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:i,onClose:function(){return r(!1)},closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500},children:Object(k.jsx)(me.a,{in:i,children:Object(k.jsxs)(y.a,{sx:ze,children:[Object(k.jsx)(P.a,{id:"transition-modal-title",variant:"h6",component:"h2",children:"Agregar Nuevo Usuario"}),Object(k.jsxs)(y.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:[Object(k.jsx)(Oe.a,{id:"outlined",label:"Id",size:"small",defaultValue:j.id,sx:{m:2},onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{id:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"Nombre Completo",size:"small",sx:{m:2},defaultValue:j.name,onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{name:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined-select-currency",label:"E-mail",size:"small",defaultValue:j.email,sx:{m:2},onChange:function(e){return u(Object(S.a)(Object(S.a)({},j),{},{email:e.target.value}))}}),Object(k.jsxs)("div",{children:["Admin",Object(k.jsx)(te.a,{color:"primary",checked:j.admin,defaultValue:j.admin,onChange:function(e,t){return u(Object(S.a)(Object(S.a)({},j),{},{admin:t}))}})]}),Object(k.jsxs)("div",{children:["Active",Object(k.jsx)(te.a,{color:"primary",checked:j.active,defaultValue:j.active,onChange:function(e,t){return u(Object(S.a)(Object(S.a)({},j),{},{active:t}))}})]}),Object(k.jsxs)(se.a,{sx:{WebkitAlignItems:"center"},className:"btn-add-sale",onClick:function(){return function(e,t,n,a,c){s()({method:"PUT",headers:{Authorization:"".concat(c)},url:"".concat(t,"/users/edit"),data:n}).then((function(t){e(!1),a()}))}(r,h,j,e.handleUpdate,O.token)},variant:"contained",children:[Object(k.jsx)(je.a,{fontSize:"medium"}),"Confirmar"]})]})]})})})]})}function Ie(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function Ne(e,t){return"desc"===e?function(e,n){return Ie(e,n,t)}:function(e,n){return-Ie(e,n,t)}}function Ee(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Te=[{id:"Id",numeric:!1,disablePadding:!0,label:"Id"},{id:"name",numeric:!0,disablePadding:!1,label:"Nombre"},{id:"email",numeric:!0,disablePadding:!1,label:"E-Mail"},{id:"Admin",bool:!0,disablePadding:!1,label:"Admin"},{id:"Active",bool:!0,disablePadding:!1,label:"Active"}],De=function(e,t,n){s()({method:"GET",url:"".concat(t,"/users"),headers:{Authorization:"".concat(n)}}).then((function(t){var n=[];t.data.length>0&&(t.data.forEach((function(e){var t,a,c,i,r;n.push((t=e._id,a=e.name,c=e.email,i=e.admin,r=e.active,{id:t,name:a,email:c,admin:i,active:r}))})),e(n))})).catch((function(e){return console.log(e)}))};function Ve(e){var t=e.onSelectAllClick,n=e.order,a=e.orderBy,c=e.numSelected,i=e.rowCount,r=e.onRequestSort;return Object(k.jsx)(Y.a,{children:Object(k.jsxs)($.a,{children:[Object(k.jsx)(Q.a,{padding:"checkbox",children:Object(k.jsx)(te.a,{color:"primary",indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:t,inputProps:{"aria-label":"select all desserts"}})}),Te.map((function(e){return Object(k.jsx)(Q.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&n,children:Object(k.jsxs)(ee.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(t=e.id,function(e){r(e,t)}),children:[e.label,a===e.id?Object(k.jsx)(y.a,{component:"span",sx:oe.a,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}var Ue=function(e){var t=e.numSelected,n=e.handleUpdate,a=Object(l.c)((function(e){return e.server.value})),c=Object(l.c)((function(e){return e.auth.value}));return Object(k.jsxs)(A.a,{sx:Object(S.a)({pl:{sm:2},pr:{xs:1,sm:1}},t.length>0&&{bgcolor:function(e){return Object(J.a)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[t.length>0?Object(k.jsxs)(P.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[t.length," selected"]}):Object(k.jsx)(P.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Registro de Usuarios"}),t.length>0?Object(k.jsx)(ae.a,{title:"Delete",children:Object(k.jsx)(ne.a,{onClick:function(){return function(e,t,n,a){t.forEach((function(t){s()({method:"DELETE",url:"".concat(e,"/users/delete"),headers:{Authorization:"".concat(a)},data:t}).then((function(e){n()}))}))}(a,t,n,c.token)},children:Object(k.jsx)(le.a,{})})}):Object(k.jsx)("div",{})]})};function Be(){var e=Object(l.c)((function(e){return e.server.value})),t=Object(l.c)((function(e){return e.auth.value})),n=Object(a.useState)([]),i=Object(_.a)(n,2),r=i[0],o=i[1];Object(a.useEffect)((function(){De(o,e,t.token)}),[]);var s=function(n){De(o,e,t.token)},d=c.a.useState("asc"),j=Object(_.a)(d,2),u=j[0],b=j[1],h=c.a.useState("Nombre"),O=Object(_.a)(h,2),x=O[0],m=O[1],p=c.a.useState([]),f=Object(_.a)(p,2),g=f[0],v=f[1],C=c.a.useState(0),S=Object(_.a)(C,2),P=S[0],w=S[1],z=c.a.useState(!1),A=Object(_.a)(z,2),I=A[0],N=A[1],E=c.a.useState(5),T=Object(_.a)(E,2),D=T[0],V=T[1],U=P>0?Math.max(0,(1+P)*D-r.length):0;return Object(k.jsxs)(y.a,{sx:{width:1e3},children:[Object(k.jsxs)(q.a,{sx:{width:"100%",mb:2},children:[Object(k.jsx)(Ue,{numSelected:g,handleUpdate:s}),Object(k.jsx)(X.a,{children:Object(k.jsxs)(H.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:I?"small":"medium",children:[Object(k.jsx)(Ve,{numSelected:g.length,order:u,orderBy:x,onSelectAllClick:function(e){if(e.target.checked){var t=r.map((function(e){return e.Nombre}));v(t)}else v([])},onRequestSort:function(e,t){b(x===t&&"asc"===u?"desc":"asc"),m(t)},rowCount:r.length}),Object(k.jsxs)(K.a,{children:[Ee(r,Ne(u,x)).slice(P*D,P*D+D).map((function(e,t){var n,a=(n=e,-1!==g.indexOf(n)),c="enhanced-table-checkbox-".concat(t);return Object(k.jsxs)($.a,{hover:!0,onClick:function(t){return function(e,t){var n=g.indexOf(t),a=[];-1===n?a=a.concat(g,t):0===n?a=a.concat(g.slice(1)):n===g.length-1?a=a.concat(g.slice(0,-1)):n>0&&(a=a.concat(g.slice(0,n),g.slice(n+1))),v(a)}(0,e)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(k.jsx)(Q.a,{padding:"checkbox",children:Object(k.jsx)(te.a,{color:"primary",checked:a,inputProps:{"aria-labelledby":c}})}),Object(k.jsx)(Q.a,{component:"th",id:c,scope:"row",padding:"none",children:e.id}),Object(k.jsx)(Q.a,{align:"right",children:e.name}),Object(k.jsx)(Q.a,{align:"right",children:e.email}),Object(k.jsx)(Q.a,{align:"right",children:Object(k.jsx)(te.a,{color:"primary",checked:e.admin,inputProps:{"aria-labelledby":c}})}),Object(k.jsx)(Q.a,{align:"right",children:Object(k.jsx)(te.a,{color:"primary",checked:e.active,inputProps:{"aria-labelledby":c}})}),Object(k.jsx)(Q.a,{align:"right",children:Object(k.jsx)(Ae,{edit:e,handleUpdate:s})})]},e.Nombre)})),U>0&&Object(k.jsx)($.a,{style:{height:(I?33:53)*U},children:Object(k.jsx)(Q.a,{colSpan:8})})]})]})}),Object(k.jsx)(Z.a,{rowsPerPageOptions:[5,10,25],component:"div",count:r.length,rowsPerPage:D,page:P,onPageChange:function(e,t){w(t)},onRowsPerPageChange:function(e){V(parseInt(e.target.value,10)),w(0)}})]}),Object(k.jsx)(ce.a,{control:Object(k.jsx)(ie.a,{checked:I,onChange:function(e){N(e.target.checked)}}),label:"Dense padding"})]})}var Re=n(115),Ge=n.n(Re),Le=n(147),We=n(18),Fe=n(270),Me=n(292),qe=n(284),_e=n(262),Je={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,m:2,width:1e3,height:500};function He(e){var t=c.a.useState(!1),n=Object(_.a)(t,2),a=n[0],i=n[1],r=c.a.useState(e.edit?e.edit:{}),o=Object(_.a)(r,2),d=o[0],j=o[1],u=function(){return i(!0)},b=Object(l.c)((function(e){return e.server.value})),h=Object(l.c)((function(e){return e.auth.value}));return Object(k.jsxs)("div",{children:[e.edit?Object(k.jsx)(ae.a,{title:"Edit",children:Object(k.jsx)(se.a,{className:"btn-edt-product",onClick:u,variant:"contained",children:Object(k.jsx)(be.a,{})})}):Object(k.jsx)(se.a,{className:"btn-add-product",onClick:u,variant:"contained",children:Object(k.jsx)(je.a,{fontSize:"large"})}),Object(k.jsx)(he.a,{"aria-labelledby":"addproduct-modal-title","aria-describedby":"addproduct-modal-description",open:a,onClose:function(){return i(!1)},closeAfterTransition:!0,BackdropComponent:xe.a,BackdropProps:{timeout:500},children:Object(k.jsx)(me.a,{in:a,children:Object(k.jsxs)(y.a,{sx:Je,children:[Object(k.jsx)(P.a,{id:"addproduct-modal-title",variant:"h6",component:"h2",children:"Crear nuevo producto"}),Object(k.jsxs)(y.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:[Object(k.jsx)(Oe.a,{id:"outlined",label:"Nombre producto",size:"small",defaultValue:d.title,sx:{m:2},onChange:function(e){return j(Object(S.a)(Object(S.a)({},d),{},{title:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"Descripci\xf3n",size:"small",sx:{m:2},defaultValue:d.description,onChange:function(e){return j(Object(S.a)(Object(S.a)({},d),{},{description:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"Precio Unitario",size:"small",defaultValue:d.price,sx:{m:2},onChange:function(e){return j(Object(S.a)(Object(S.a)({},d),{},{price:e.target.value}))}}),Object(k.jsx)(Oe.a,{id:"outlined",label:"Stock",size:"small",sx:{m:2},defaultValue:d.stock,onChange:function(e){return j(Object(S.a)(Object(S.a)({},d),{},{stock:e.target.value}))}}),Object(k.jsxs)(qe.a,{size:"small",sx:{m:2},children:[Object(k.jsx)(Fe.a,{id:"demo-simple-select-label",children:"Disponible"}),Object(k.jsxs)(_e.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d.aviable,label:"Disponible",onChange:function(e){return j(Object(S.a)(Object(S.a)({},d),{},{aviable:e.target.value}))},children:[Object(k.jsx)(Me.a,{value:"true",children:"Disponible"}),Object(k.jsx)(Me.a,{value:"false",children:"No Disponible"})]})]}),Object(k.jsx)(Oe.a,{id:"outlined",label:"url",size:"small",sx:{m:2},defaultValue:d.link,onChange:function(e){return j(Object(S.a)(Object(S.a)({},d),{},{link:e.target.value}))}}),Object(k.jsxs)(se.a,{sx:{px:3},className:"btn-add-product",onClick:function(){return e.edit?function(e,t,n,a,c){s()({method:"PUT",url:"".concat(t,"/products/edit"),data:n,headers:{Authorization:"".concat(c)}}).then((function(t){e(!1),a(t)}))}(i,b,d,e.handleUpdate,h.token):function(e,t,n,a,c){s()({method:"POST",url:"".concat(t,"/products/new"),data:n,headers:{Authorization:"".concat(c)}}).then((function(t){e(!1),a(t)}))}(i,b,d,e.handleUpdate,h.token)},variant:"contained",children:[Object(k.jsx)(je.a,{fontSize:"large",variant:"contained",fullWidth:!0}),"Confirmar"]})]})]})})})]})}var Ke=n(23),Qe=n(148),Xe=n.n(Qe),Ye=n(46),Ze=n(259),$e=["className"];function et(e){var t=e.imagen,n=Object(M.a)((function(e){var t=e.className,n=Object(Ke.a)(e,$e);return Object(k.jsx)(ae.a,Object(S.a)(Object(S.a)({},n),{},{classes:{popper:t}}))}))((function(e){e.theme;return Object(N.a)({},"& .".concat(Ye.a.tooltip),{maxWidth:220})}));return Object(k.jsx)(Ze.a,{children:Object(k.jsx)(n,{disableFocusListener:!0,disableTouchListener:!0,title:Object(k.jsx)(a.Fragment,{children:Object(k.jsx)(O.a,{children:Object(k.jsx)(O.a.Image,{src:t})})}),children:Object(k.jsx)(se.a,{children:Object(k.jsx)(ne.a,{children:Object(k.jsx)(Xe.a,{})})})})})}var tt=n(266),nt=n(295),at=n(149),ct=n.n(at),it=function(e){var t=e.products,n=e.setProducts;return Object(k.jsx)(Oe.a,{fullWidth:!0,sx:{my:3},size:"small",label:"Buscar Producto",onChange:function(e){var a=new RegExp(".*"+e.target.value+".*"),c=t.filter((function(e){return e.title.match(a)}));n(c)},type:"text",helperText:"Ingrese el nombre del producto a buscar"})};var rt=function(e,t,n){s()({method:"GET",url:"".concat(t,"/products"),headers:{Authorization:"".concat(n)}}).then((function(t){var n=[];t.data.forEach((function(e){var t,a,c,i,r,l,o;n.push((t=e._id,a=e.title,c=e.description,i=e.price,r=e.stock,l=e.aviable,o=e.link,{id:t,title:a,description:c,price:i,stock:r,aviable:l,link:o}))})),e(n)}))};function lt(){var e=Object(l.c)((function(e){return e.server.value})),t=Object(l.c)((function(e){return e.auth.value})),n=Object(a.useState)([]),c=Object(_.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)(Object(We.a)(i)),s=Object(_.a)(o,2),d=s[0],j=s[1],u=Object(a.useState)(!1),b=Object(_.a)(u,2),h=b[0],O=b[1],x=Object(a.useState)(),m=Object(_.a)(x,2),p=m[0],f=m[1],g=a.useState(null),v=Object(_.a)(g,2),C=v[0],S=v[1];Object(a.useEffect)((function(){rt(r,e,t.token),rt(j,e,t.token)}),[]);var y=function(){var n=Object(Le.a)(Ge.a.mark((function n(a){return Ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:rt(r,e,t.token),rt(j,e,t.token),O(!0),201==a.status?(f("success"),S(a.data)):(f("error"),S("El producto NO ha sido creado"));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(k.jsxs)(X.a,{component:q.a,children:[Object(k.jsx)(it,{products:i,setProducts:j,handleUpdate:y}),Object(k.jsx)(nt.a,{in:h,children:Object(k.jsx)(tt.a,{action:Object(k.jsx)(ne.a,{size:"small",onClick:function(){O(!1)},children:Object(k.jsx)(ct.a,{fontSize:"inherit"})}),sx:{mb:2},severity:p,children:C})}),Object(k.jsx)(A.a,{sx:{pl:{sm:2},pr:{xs:1,sm:1}},children:Object(k.jsx)(P.a,{sx:{flex:"1 1 100%"},variant:"h6",component:"div",children:"Lista de Productos"})}),Object(k.jsxs)(H.a,{sx:{minWidth:1e3},"aria-label":"simple table",children:[Object(k.jsxs)(Y.a,{children:[Object(k.jsx)($.a,{children:Object(k.jsx)(Q.a,{align:"right",colSpan:8,children:Object(k.jsx)(He,{handleUpdate:y})})}),Object(k.jsxs)($.a,{children:[Object(k.jsx)(Q.a,{children:"ID"}),Object(k.jsx)(Q.a,{align:"center",children:"Nombre"}),Object(k.jsx)(Q.a,{align:"center",children:"Descripci\xf3n"}),Object(k.jsx)(Q.a,{align:"center",children:"Precio"}),Object(k.jsx)(Q.a,{align:"center",children:"Stock"}),Object(k.jsx)(Q.a,{align:"center",children:"Disponible"}),Object(k.jsx)(Q.a,{align:"center",children:"Visualizaci\xf3n"}),Object(k.jsx)(Q.a,{align:"center",children:"Editar"})]})]}),Object(k.jsx)(K.a,{children:d.map((function(e){return Object(k.jsxs)($.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(k.jsx)(Q.a,{component:"th",scope:"row",children:e.id.substring(0,7)}),Object(k.jsx)(Q.a,{align:"center",children:e.title}),Object(k.jsx)(Q.a,{align:"center",children:e.description}),Object(k.jsx)(Q.a,{align:"center",children:e.price}),Object(k.jsx)(Q.a,{align:"center",children:e.stock}),Object(k.jsx)(Q.a,{align:"center",children:Object(k.jsx)(te.a,{checked:e.aviable})}),Object(k.jsx)(Q.a,{align:"center",children:Object(k.jsx)(et,{imagen:e.link})}),Object(k.jsxs)(Q.a,{align:"center",children:[" ",Object(k.jsx)(He,{edit:e,handleUpdate:y})]})]},e.id)}))})]})]})}function ot(){return Object(k.jsxs)(y.a,{sx:{display:"flex"},children:[Object(k.jsx)(z.a,{}),Object(k.jsx)(w.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(k.jsx)(A.a,{children:Object(k.jsx)(P.a,{variant:"h6",noWrap:!0,component:"div",children:"La Mega_Tienda"})})}),Object(k.jsx)(W,{}),Object(k.jsxs)("div",{children:[Object(k.jsx)(F.a,{exact:!0,path:"/home",component:C}),Object(k.jsx)(F.a,{exact:!0,path:"/sales",component:st}),Object(k.jsx)(F.a,{exact:!0,path:"/products",component:dt}),Object(k.jsx)(F.a,{exact:!0,path:"/productNew",component:jt}),Object(k.jsx)(F.a,{exact:!0,path:"/people",component:ut}),Object(k.jsx)(F.a,{exact:!0,path:"/",children:Object(k.jsx)(C,{})})]})]})}function st(){return Object(k.jsxs)(y.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(k.jsx)(A.a,{}),Object(k.jsx)(I.a,{children:Object(k.jsx)(we,{})})]})}Object(M.a)(q.a)((function(e){var t=e.theme;return Object(S.a)(Object(S.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));function dt(){return Object(k.jsxs)(y.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(k.jsx)(A.a,{}),Object(k.jsx)(I.a,{children:Object(k.jsx)(lt,{})})]})}function jt(){return Object(k.jsxs)(y.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(k.jsx)(A.a,{}),Object(k.jsx)(I.a,{children:Object(k.jsx)(He,{})})]})}function ut(){return Object(k.jsxs)(y.a,{component:"main",sx:{width:1e3,height:500,flexGrow:1,p:3},children:[Object(k.jsx)(A.a,{}),Object(k.jsx)(I.a,{children:Object(k.jsx)(Be,{})})]})}var bt=Object(m.b)({name:"server",initialState:{value:"https://mision2022-crackcoders.herokuapp.com",sales:!1},reducers:{login:function(e){e.value=!0}}}).reducer,ht=Object(m.a)({reducer:{auth:v,server:bt}}),Ot=function(e){var t=Object(l.b)(),n=window.location.search.substring(1),a=JSON.parse('{"'+decodeURI(n).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');return t(g(a)),Object(k.jsx)("div",{children:"bye"})};var xt=function(){return Object(k.jsx)(l.a,{store:ht,children:Object(k.jsx)(x.a,{children:Object(k.jsx)(F.c,{children:Object(k.jsx)(mt,{})})})})};function mt(){return!1!==Object(l.c)((function(e){return e.auth.value}))?Object(k.jsx)(ot,{}):Object(k.jsxs)("div",{children:[Object(k.jsx)(F.a,{exact:!0,path:"/auth",component:Ot}),Object(k.jsx)(C,{})]})}var pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,296)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(xt,{})}),document.getElementById("root")),pt()}},[[210,1,2]]]);
//# sourceMappingURL=main.5a58874f.chunk.js.map